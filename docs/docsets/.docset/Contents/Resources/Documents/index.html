<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (52% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Map.html">Map</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/URLCoder.html">URLCoder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/KeyPart.html">KeyPart</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/MappingError.html">MappingError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Sequence.html">Sequence</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:13MapCodableKit0A5CoderP">MapCoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MapDecodable.html">MapDecodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MapDecoder.html">MapDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MapEncodable.html">MapEncodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MapEncoder.html">MapEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MapKey.html">MapKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='mapcodablekit' class='heading'>MapCodableKit</h1>

<p>A powerful JSON serialization framework for swift 4.0</p>

<ul>
<li><a href="#features">Features</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#supported-types">Supported Types</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#credits">Credits</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>[x] Can map objects to <code>JSON</code>, from <code>JSON</code> or both</li>
<li>[x] Allows you create objects that are only <q>to</q> <code>JSON</code> encodable or only <q>from</q>  <code>JSON</code></li>
<li>[x] Easy integration</li>
<li>[x] Handles common object types</li>
<li>[x] Easily extensible</li>
<li>[x] Uses swift 4.0</li>
</ul>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='import-code-mapcodablekit-code' class='heading'>Import <code>MapCodableKit</code></h3>

<p>Add the following to the top of any swift file using <code>MapCodableKit</code></p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MapCodableKit</span> 
</code></pre>
<h3 id='mapping-to-code-json-code' class='heading'>Mapping to <code>JSON</code></h3>

<p>To be able to map your object to json, your object needs to implement the <code><a href="Protocols/MapEncodable.html">MapEncodable</a></code> protocol</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">MyModel</span><span class="p">:</span> <span class="kt">MapEncodable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">id</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">fill</span><span class="p">(</span><span class="nv">map</span><span class="p">:</span> <span class="kt">Map</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">map</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="nv">forKey</span><span class="p">:</span> <span class="s">"id"</span><span class="p">)</span>
        <span class="n">map</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nv">forKey</span><span class="p">:</span> <span class="s">"name"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Then you can get any json data like this</p>
<pre class="highlight swift"><code><span class="c1">// Initialize your object</span>
<span class="k">let</span> <span class="nv">myModel</span> <span class="o">=</span> <span class="kt">MyModel</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Jim Halpert"</span><span class="p">)</span>

<span class="c1">// To get a json string (i.e. `String`)</span>
<span class="k">let</span> <span class="nv">jsonString</span> <span class="o">=</span> <span class="k">try</span> <span class="n">myModel</span><span class="o">.</span><span class="nf">jsonString</span><span class="p">(</span><span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">prettyPrinted</span><span class="p">],</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="c1">// To get a json data (i.e. `Data`)</span>
<span class="k">let</span> <span class="nv">jsonData</span> <span class="o">=</span> <span class="k">try</span> <span class="n">myModel</span><span class="o">.</span><span class="nf">jsonData</span><span class="p">(</span><span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">prettyPrinted</span><span class="p">])</span>


<span class="c1">// To get a json object (i.e. `[String: Any]`)</span>
<span class="k">let</span> <span class="nv">json</span> <span class="o">=</span> <span class="k">try</span> <span class="n">myModel</span><span class="o">.</span><span class="nf">json</span><span class="p">()</span>
</code></pre>
<h3 id='mapping-from-code-json-code' class='heading'>Mapping from <code>JSON</code></h3>

<p>To be able to map your object to json, your object needs to implement the <code><a href="Protocols/MapDecodable.html">MapDecodable</a></code> protocol</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">MyModel</span><span class="p">:</span> <span class="kt">MapDecodable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">map</span><span class="p">:</span> <span class="kt">Map</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">id</span>     <span class="o">=</span> <span class="k">try</span> <span class="n">map</span><span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="nv">fromKey</span><span class="p">:</span> <span class="s">"id"</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span>   <span class="o">=</span> <span class="k">try</span> <span class="n">map</span><span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="nv">fromKey</span><span class="p">:</span> <span class="s">"name"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Then you can initialize your object like this:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">myModel</span> <span class="o">=</span> <span class="kt">MyModel</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Jim Halpert"</span><span class="p">)</span>

<span class="c1">// Initialize from a json string (i.e. `String`)</span>
<span class="k">let</span> <span class="nv">jsonString</span> <span class="o">=</span> <span class="o">...</span><span class="k">get</span> <span class="n">your</span> <span class="p">`</span><span class="nv">json</span><span class="p">`</span> <span class="n">string</span> <span class="n">from</span> <span class="n">somewhere</span> <span class="n">like</span> <span class="n">the</span> <span class="n">network</span>
<span class="k">let</span> <span class="nv">myModel</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">MyModel</span><span class="p">(</span><span class="nv">jsonString</span><span class="p">:</span> <span class="n">jsonString</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="c1">// Intialize from json data (i.e. `Data`)</span>
<span class="k">let</span> <span class="nv">jsonData</span> <span class="o">=</span> <span class="o">...</span><span class="k">get</span> <span class="n">your</span> <span class="p">`</span><span class="nv">JSON</span><span class="p">`</span> <span class="n">data</span> <span class="n">from</span> <span class="n">somewhere</span> <span class="n">like</span> <span class="n">the</span> <span class="n">network</span>
<span class="k">let</span> <span class="nv">myModel</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">MyModel</span><span class="p">(</span><span class="nv">jsonData</span><span class="p">:</span> <span class="n">hsonData</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="c1">// Initialize from a json object (i.e. `[String: Any]`)</span>
<span class="k">let</span> <span class="nv">json</span> <span class="o">=</span> <span class="p">[</span><span class="s">"id"</span><span class="p">:</span> <span class="s">"234"</span><span class="p">,</span> <span class="s">"name"</span><span class="p">:</span> <span class="s">"Pam Beezley"</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">jsonString</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">MyModel</span><span class="p">(</span><span class="nv">json</span><span class="p">:</span> <span class="n">json</span><span class="p">)</span>
</code></pre>
<h3 id='mapping-both-ways' class='heading'>Mapping Both Ways</h3>

<p>To map your object both ways, just implement both <code><a href="Protocols/MapDecodable.html">MapDecodable</a></code> and <code><a href="Protocols/MapEncodable.html">MapEncodable</a></code>.  As a convenience you can also use <code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code></p>
<h3 id='serializing-a-custom-object' class='heading'>Serializing a custom object</h3>

<p>Sometimes you need to serialize a custom object.  For this you can use <code><a href="Protocols/MapEncoder.html">MapEncoder</a></code> and <code><a href="Protocols/MapDecoder.html">MapDecoder</a></code> (<code><a href="Protocols.html#/s:13MapCodableKit0A5CoderP">MapCoder</a></code> for both).  A simple exaple of this is the built in  <code><a href="Classes/URLCoder.html">URLCoder</a></code></p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">URLCoder</span><span class="p">:</span> <span class="kt">MapCoder</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">toMap</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">absoluteString</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">fromMap</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">URL</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='generics' class='heading'>Generics</h3>

<p>You can also use generics if you chose.  Here is an example of a generic used for serializing a response:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">ListBody</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">:</span> <span class="kt">MapEncodable</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">MapEncodable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">objects</span><span class="p">:</span> <span class="p">[</span><span class="kt">T</span><span class="p">]</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">objects</span><span class="p">:</span> <span class="p">[</span><span class="kt">T</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">self</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="n">objects</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">fill</span><span class="p">(</span><span class="nv">map</span><span class="p">:</span> <span class="kt">Map</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="k">try</span> <span class="n">map</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="nv">forKey</span><span class="p">:</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='nested-objects' class='heading'>Nested objects</h3>

<p>You can get or set an object nested in a dictionary or an array.  </p>

<p>For a nested object in a dictionary, just seperate your keys using a <code>.</code>. For example the key <code>abc.def</code> will return an object with the key <code>def</code> in a parent object.  </p>

<p>You may also get the first object in an array. For example, the key <code>def[0]</code> will return the first object in an array <code>def</code>.</p>

<p>You may chain as many of these as you would like.  For example, <code>abc.def[0]</code> will return the first object in an array <code>def</code> which is itself nested in the object <code>abc</code>.</p>

<p><strong>Note</strong>: only the first object <code>0</code> is supported for now.  using any value other than <code>0</code> will give you a <code><a href="Enums/MappingError.html">MappingError</a></code> when trying to save to write the value.  </p>
<h2 id='supported-types' class='heading'>Supported Types</h2>
<h3 id='primitives' class='heading'>Primitives</h3>

<p>MapCodableKit supports any <code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> variables.  <code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> are any json primitives such as:</p>

<ul>
<li><code>String</code></li>
<li><code>Double</code></li>
<li><code>Bool</code></li>
<li><code>Int</code></li>
<li><code>Int8</code></li>
<li><code>Int16</code></li>
<li><code>Int32</code></li>
<li><code>Int64</code></li>
<li><code>UInt</code></li>
<li><code>UInt8</code></li>
<li><code>UInt16</code></li>
<li><code>UInt32</code></li>
<li><code>UInt64</code></li>
<li><code>Array</code> of <code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> objects</li>
<li><code>Dictionary</code> of <code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> objects (i.e. <code>[Key: MapPrimitive]</code>)</li>
</ul>

<p><strong>Note</strong>: if you request a <code>String</code> for any value that does not parse to a string it will fail serialization. This includes nested objects and arrays since they entire <code>JSON</code> structure is already parsed.</p>
<h3 id='enums-code-rawrepresentable-code' class='heading'>Enums (<code>RawRepresentable</code>)</h3>

<p>Raw representable objects are usually enums. They are suppoted fully in this library.</p>
<h3 id='nested-code-codable-code-objects' class='heading'>Nested <code>Codable</code> objects</h3>

<p><code>Codable</code> objects that are either <code>Encodable</code> or <code>Decodable</code> or both are supported.</p>
<h3 id='nested-code-mapcodable-code-objects' class='heading'>Nested <code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code> objects</h3>

<p>Your models may contains nested <code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code> objects, Sets, Arrays or Dictionaries.</p>
<h3 id='sets' class='heading'>Sets</h3>

<p>Sets are supported for the following types:</p>

<ul>
<li><code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> (strings, integers, booleans, doubles etc &hellip;)</li>
<li><code>RawRepresentable</code> (enums)</li>
<li><code><a href="Protocols/MapEncodable.html">MapEncodable</a></code> (read only nested objects)</li>
<li><code><a href="Protocols/MapDecodable.html">MapDecodable</a></code> (write only nested objects)</li>
<li><code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code> (read and write nested objects)</li>
</ul>
<h3 id='arrays' class='heading'>Arrays</h3>

<p>Arrays are supported for the following types:</p>

<ul>
<li><code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> (strings, integers, booleans, doubles etc &hellip;)</li>
<li><code>RawRepresentable</code> (enums)</li>
<li><code><a href="Protocols/MapEncodable.html">MapEncodable</a></code> (read only nested objects)</li>
<li><code><a href="Protocols/MapDecodable.html">MapDecodable</a></code> (write only nested objects)</li>
<li><code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code> (read and write nested objects)</li>
</ul>
<h3 id='dictionaries-with-code-string-code-keys' class='heading'>Dictionaries (with <code>String</code> keys)</h3>

<p>Arrays are supported for the following types:</p>

<ul>
<li><code><a href="Protocols.html#/s:13MapCodableKit0A9PrimitiveP">MapPrimitive</a></code> (strings, integers, booleans, doubles etc &hellip;)</li>
<li><code>RawRepresentable</code> (enums)</li>
<li><code><a href="Protocols/MapEncodable.html">MapEncodable</a></code> (read only nested objects)</li>
<li><code><a href="Protocols/MapDecodable.html">MapDecodable</a></code> (write only nested objects)</li>
<li><code><a href="Protocols.html#/s:13MapCodableKit0aB0P">MapCodable</a></code> (read and write nested objects)</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='package-manager' class='heading'>Package Manager</h3>

<p>Package manager is a powerful packaging tool built into xcode.  For the full documentation on how to use package manager, click <a href="https://swift.org/package-manager/">here</a></p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>brew update
<span class="nv">$ </span>brew <span class="nb">install </span>carthage
</code></pre>

<p>To integrate <code>MapCodableKit</code> into your Xcode project using Carthage, specify it in your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "cuba/MapCodableKit" ~&gt; 1.1
</code></pre>

<p>Run <code>carthage update</code> to build the framework and drag the built <code>MapCodableKit.framework</code> into your Xcode project.</p>
<h2 id='dependencies' class='heading'>Dependencies</h2>

<p><code>Framework</code> is the only dependency 😁</p>
<h2 id='credits' class='heading'>Credits</h2>

<p><code>MapCodableKit</code> is owned and maintained by Jacob Sikorski.</p>

<p><code>MapCodableKit</code> is largely inspired by <a href="https://github.com/Hearst-DD/ObjectMapper">ObjectMapper</a>.</p>
<h2 id='license' class='heading'>License</h2>

<p><code>MapCodableKit</code> is released under the MIT license. <a href="https://github.com/cuba/MapCodableKit/blob/master/LICENSE">See LICENSE</a> for details</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2018-12-04)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
